# 磁盘管理

## 磁盘结构

### 磁盘外部结构

- 磁盘主轴转速：(rpm, round per minute) 10k、15k、7200、5400
- 磁盘盘片
- 磁头
- 磁盘接口

**磁盘接口类型**：

- IDE（淘汰）
- SCSI（淘汰）
- SATA（消费级）
- SAS（企业级/高端）
- PCI-e（企业级/高端）

### 磁盘内部组成

- 磁盘-硬盘（Disk）
- 磁头（Head）
- 磁道（Track）
- 扇区（Sector）
- 柱面（Cylinder）
- 单元块（Units）



## RAID



## 分区格式

- **MBR 格式** - 最大支持4个主分区，包含扩展分区、逻辑分区的概念
- **GPT 格式** - 最大支持128个主分区



## 分区工具

### 格式化分区 - mkfs

例如：分区格式化为xfs格式

```bash
mkfs.xfs /dev/sdb1
```

### 针对MBR分区 - fdisk

**查看磁盘列表：**

```bash
fdisk -l
```

**操作某块磁盘：**

```bash
# 对磁盘sdb进行操作
fdisk /dev/sdb
```

**常用操作：**

- d：删除一个分区
- n：创建一个新分区
- p：打印分区表
- l：列出已知分区类型表
- w：保存并退出
- q：不保存退出

### 针对GPT分区 - parted


## RAID
| RAID级别 | 最小磁盘数 | 容错能力 | 磁盘空间开销 | 读取速度 | 写入速度 | 硬件成本 |
| :------- | :--------- | :------- | :----------- | :------- | :------- | :------- |
| RAID 0   | 2          | 无       | 0%           | 高       | 高       | 低       |
| RAID 1   | 2          | 单个磁盘 | 50%          | 高       | 低       | 中       |
| RAID 5   | 3          | 单个磁盘 | 1 / N        | 中       | 低       | 中       |
| RAID 6   | 4          | 两个磁盘 | 2 / N        | 中       | 低       | 高       |
| RAID 10  | 4          | 多个磁盘 | 50%          | 高       | 中       | 高       |
| RAID 50  | 6          | 单个磁盘 | 1 / N        | 高       | 中       | 高       |
| RAID 60  | 8          | 多个磁盘 | 50%          | 高       | 中       | 高       |



## 磁盘分区

### MBR + DPT

最多支持4个主分区





## 参考引用

- [完全图解RAID存储技术：RAID 0、1、5、6、10、50、60](https://cloud.tencent.com/developer/article/2304179)
